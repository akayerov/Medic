{% extends 'medicament/document_form.html' %}
{% block monitorform %}
 <h4>Мониторинг: {{doc_type.name}}</h4>
 <ul class="tabs" data-tab role="tablist">
  <li class="tab-title active" role="presentational" ><a href="#panel2-1" role="tab" tabindex="0" aria-selected="true" controls="panel2-1">Таблица стартовая</a></li>
  <li class="tab-title" role="presentational" ><a href="#panel2-2" role="tab" tabindex="0"aria-selected="false" controls="panel2-2">Таблица 1000</a></li>
  <li class="tab-title" role="presentational"><a href="#panel2-3" role="tab" tabindex="0" aria-selected="false" controls="panel2-3">Таблица 2000</a></li>
  <li class="tab-title" role="presentational" ><a href="#panel2-4" role="tab" tabindex="0" aria-selected="false" controls="panel2-4">Таблица Финал</a></li>
</ul>
<div class="tabs-content">
  <section role="tabpanel" aria-hidden="false" class="content active" id="panel2-1">
          <table class="table" id="table1" cellpadding="1" cellspacing="1">
		   <tr>
		    <th>Показатель</th>
		    <th>Код МО</th>
		   </tr>
	       <tr>
 	        <td></td>
	        <td><input type="number" name="KodMO" min="0" max="9999" value="{{doc.KodMO}}"></td>
           <tr>
  		</table>


  </section>
  <section role="tabpanel" aria-hidden="true" class="content" id="panel2-2">
          <table class="table" id="table1" cellpadding="1" cellspacing="1">
		   <tr>
		    <th>Показатель</th>
		    <th>Строка</th>
		    <th>с3</th>
		    <th>с4</th>
		    <th>Сумма</th>
		   </tr>
           {% for t in tab1000 %}
 		     <tr>
		       <td>{{t.row}}</td>
		       <td>{{t.row.nom}}</td>
		       <td><input type="number" id ="tab1000_{{t.row.nom}}_c3" name="tab1000_{{t.row.id}}_c3" value="{{t.c3}}"></td>
		       <td><input type="number" id ="tab1000_{{t.row.nom}}_c4"  name="tab1000_{{t.row.id}}_c4" value="{{t.c4}}"></td>
		       <td id ="tab1000_{{t.row.nom}}"></td>
		     <tr>
           {% endfor %}  
  		</table>

  </section>
  <section role="tabpanel" aria-hidden="true" class="content" id="panel2-3">
          <table class="table" id="table1" cellpadding="1" cellspacing="1">
		   <tr>
		    <th>Показатель</th>
		    <th>Строка</th>
		    <th>с3</th>
		    <th>с4</th>
		   </tr>
           {% for t in tab2000 %}
 		     <tr>
		       <td>{{t.row}}</td>
		       <td>{{t.row.nom}}</td>
		       <td><input type="number" id ="tab2000_{{t.row.nom}}_c3" name="tab2000_{{t.row.id}}_c3"  value="{{t.c3}}"></td>
		       <td><input type="number" id ="tab2000_{{t.row.nom}}_c4" name="tab2000_{{t.row.id}}_c4" value="{{t.c4}}"></td>
		     <tr>
           {% endfor %}  
  		</table>

  </section>
  <section role="tabpanel" aria-hidden="true" class="content" id="panel2-4">
          <table class="table" id="table1" cellpadding="1" cellspacing="1">
		   <tr>
		    <th>Показатель</th>
		    <th></th>
		   </tr>
 	        <td>Кол 7002</td>
	        <td><input type="number" name="c7002" min="0" max="9999" value="{{doc.c7002}}"></td>
           <tr>
  		</table>
  </section>
</div>
 
 <script>
 $(document).ready(function(){
//    $("#sum1000_1").html("Hello")
     osum = $("#tab1000_1-1")
     os1  = $("#tab1000_1-1_c3")
     os2  = $("#tab1000_1-1_c4")
     s1 = os1[0].value
     sv1 = Number(s1)
     sv2 = parseInt(os2[0].value)
     res = sv1 + sv2
     $("#tab1000_1-1").html(res)
     
     osum2 = $("#tab1000_1-2")
     os3  = $("#tab1000_1-2_c3")
     os4  = $("#tab1000_1-2_c4")
     s1 = os3[0].value
     sv1 = Number(s1)
     sv2 = parseInt(os4[0].value)
     res = sv1 + sv2
     $("#tab1000_1-2").html(res)
     
 });
 </script>
  <script>
 $(document).ready(function(){
     os1  = $("#tab1000_1-1_c3")
     os2  = $("#tab1000_1-1_c4")
     s1 = os1[0].value
     sv1 = Number(s1)
     sv2 = parseInt(os2[0].value)
     if(sv1 < sv2) {
    	 $("<p>Error</p>").insertAfter("#tab1000_1-1_c4");
     }
 });
 </script>
 
 
{% endblock %}

